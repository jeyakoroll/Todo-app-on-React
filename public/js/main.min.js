const todoForm = document.getElementById('todo-form'),
      addInput = document.getElementById('add-input'),
      todoList = document.getElementById('todo-list'),
      todoItems = document.querySelectorAll('.todo-item');

      function createTodoItem(title) {
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.className = 'checkbox';

        const label = document.createElement('label');
        label.innerText = title;
        label.className = 'title';

        const editInput = document.createElement('input');
        editInput.type = 'text';
        editInput.className = 'textfield';

        const editButtom = document.createElement('button');
        editButtom.innerText = 'Изменить';
        editButtom.className = 'edit';

        const deleteButtom = document.createElement('button');
        deleteButtom.innerText = 'Удалить';
        deleteButtom.className = 'delete';

        const listItem = document.createElement('li');
        listItem.className = 'todo-item';

        listItem.appendChild(checkbox);
        listItem.appendChild(label);
        listItem.appendChild(editInput);
        listItem.appendChild(editButtom);
        listItem.appendChild(deleteButtom);

        bindEvents(listItem);

        return listItem;
      }

      function bindEvents(todoItem) {
        const checkbox = todoItem.querySelector('.checkbox');
        const editButtom = todoItem.querySelector('button.edit');
        const deleteButtom = todoItem.querySelector('button.delete');

        checkbox.addEventListener('change', toggleTodoItem);
        editButtom.addEventListener('click', editTodoItem);
        deleteButtom.addEventListener('click', deleteTodoItem);
      }

      function addTodoItem(e) {
        e.preventDefault();

        if (addInput.value === '') return alert('Введите название задачи');

        const todoItem = createTodoItem(addInput.value)
        todoList.appendChild(todoItem);
        addInput.value = '';
      }

      function toggleTodoItem({ target })  {
        const listItem = this.parentNode;
        listItem.classList.toggle('completed')
      }

      function editTodoItem() {
        const listItem = this.parentNode;
        const title = listItem.querySelector('.title');
        const editInput = listItem.querySelector('.textfield');
        const isEditing = listItem.classList.contains('editing');

        if (isEditing) {
          title.innerText = editInput.value;
          this.innerText = 'Изменить';
        } else {
          editInput.value = title.innerText;
          this.innerText = 'Сохранить';
        }

        listItem.classList.toggle('editing');
      }

      function deleteTodoItem() {
        const listItem = this.parentNode;
        todoList.removeChild(listItem);
      }

// call app
      (function main() {
        todoForm.addEventListener('submit', addTodoItem);
        todoItems.forEach(item => bindEvents(item));
      })();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB0b2RvRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvLWZvcm0nKSxcclxuICAgICAgYWRkSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWlucHV0JyksXHJcbiAgICAgIHRvZG9MaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG8tbGlzdCcpLFxyXG4gICAgICB0b2RvSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG9kby1pdGVtJyk7XHJcblxyXG4gICAgICBmdW5jdGlvbiBjcmVhdGVUb2RvSXRlbSh0aXRsZSkge1xyXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBjaGVja2JveC50eXBlID0gJ2NoZWNrYm94JztcclxuICAgICAgICBjaGVja2JveC5jbGFzc05hbWUgPSAnY2hlY2tib3gnO1xyXG5cclxuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgbGFiZWwuaW5uZXJUZXh0ID0gdGl0bGU7XHJcbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gJ3RpdGxlJztcclxuXHJcbiAgICAgICAgY29uc3QgZWRpdElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBlZGl0SW5wdXQudHlwZSA9ICd0ZXh0JztcclxuICAgICAgICBlZGl0SW5wdXQuY2xhc3NOYW1lID0gJ3RleHRmaWVsZCc7XHJcblxyXG4gICAgICAgIGNvbnN0IGVkaXRCdXR0b20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICBlZGl0QnV0dG9tLmlubmVyVGV4dCA9ICfQmNC30LzQtdC90LjRgtGMJztcclxuICAgICAgICBlZGl0QnV0dG9tLmNsYXNzTmFtZSA9ICdlZGl0JztcclxuXHJcbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgZGVsZXRlQnV0dG9tLmlubmVyVGV4dCA9ICfQo9C00LDQu9C40YLRjCc7XHJcbiAgICAgICAgZGVsZXRlQnV0dG9tLmNsYXNzTmFtZSA9ICdkZWxldGUnO1xyXG5cclxuICAgICAgICBjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgbGlzdEl0ZW0uY2xhc3NOYW1lID0gJ3RvZG8taXRlbSc7XHJcblxyXG4gICAgICAgIGxpc3RJdGVtLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcclxuICAgICAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgICAgICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoZWRpdElucHV0KTtcclxuICAgICAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChlZGl0QnV0dG9tKTtcclxuICAgICAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdXR0b20pO1xyXG5cclxuICAgICAgICBiaW5kRXZlbnRzKGxpc3RJdGVtKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGxpc3RJdGVtO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBiaW5kRXZlbnRzKHRvZG9JdGVtKSB7XHJcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSB0b2RvSXRlbS5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3gnKTtcclxuICAgICAgICBjb25zdCBlZGl0QnV0dG9tID0gdG9kb0l0ZW0ucXVlcnlTZWxlY3RvcignYnV0dG9uLmVkaXQnKTtcclxuICAgICAgICBjb25zdCBkZWxldGVCdXR0b20gPSB0b2RvSXRlbS5xdWVyeVNlbGVjdG9yKCdidXR0b24uZGVsZXRlJyk7XHJcblxyXG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRvZ2dsZVRvZG9JdGVtKTtcclxuICAgICAgICBlZGl0QnV0dG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZWRpdFRvZG9JdGVtKTtcclxuICAgICAgICBkZWxldGVCdXR0b20uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVUb2RvSXRlbSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGFkZFRvZG9JdGVtKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGlmIChhZGRJbnB1dC52YWx1ZSA9PT0gJycpIHJldHVybiBhbGVydCgn0JLQstC10LTQuNGC0LUg0L3QsNC30LLQsNC90LjQtSDQt9Cw0LTQsNGH0LgnKTtcclxuXHJcbiAgICAgICAgY29uc3QgdG9kb0l0ZW0gPSBjcmVhdGVUb2RvSXRlbShhZGRJbnB1dC52YWx1ZSlcclxuICAgICAgICB0b2RvTGlzdC5hcHBlbmRDaGlsZCh0b2RvSXRlbSk7XHJcbiAgICAgICAgYWRkSW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gdG9nZ2xlVG9kb0l0ZW0oeyB0YXJnZXQgfSkgIHtcclxuICAgICAgICBjb25zdCBsaXN0SXRlbSA9IHRoaXMucGFyZW50Tm9kZTtcclxuICAgICAgICBsaXN0SXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdjb21wbGV0ZWQnKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBlZGl0VG9kb0l0ZW0oKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdEl0ZW0gPSB0aGlzLnBhcmVudE5vZGU7XHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKTtcclxuICAgICAgICBjb25zdCBlZGl0SW5wdXQgPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCcudGV4dGZpZWxkJyk7XHJcbiAgICAgICAgY29uc3QgaXNFZGl0aW5nID0gbGlzdEl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdlZGl0aW5nJyk7XHJcblxyXG4gICAgICAgIGlmIChpc0VkaXRpbmcpIHtcclxuICAgICAgICAgIHRpdGxlLmlubmVyVGV4dCA9IGVkaXRJbnB1dC52YWx1ZTtcclxuICAgICAgICAgIHRoaXMuaW5uZXJUZXh0ID0gJ9CY0LfQvNC10L3QuNGC0YwnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBlZGl0SW5wdXQudmFsdWUgPSB0aXRsZS5pbm5lclRleHQ7XHJcbiAgICAgICAgICB0aGlzLmlubmVyVGV4dCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGlzdEl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnZWRpdGluZycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBkZWxldGVUb2RvSXRlbSgpIHtcclxuICAgICAgICBjb25zdCBsaXN0SXRlbSA9IHRoaXMucGFyZW50Tm9kZTtcclxuICAgICAgICB0b2RvTGlzdC5yZW1vdmVDaGlsZChsaXN0SXRlbSk7XHJcbiAgICAgIH1cclxuXHJcbi8vIGNhbGwgYXBwXHJcbiAgICAgIChmdW5jdGlvbiBtYWluKCkge1xyXG4gICAgICAgIHRvZG9Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFkZFRvZG9JdGVtKTtcclxuICAgICAgICB0b2RvSXRlbXMuZm9yRWFjaChpdGVtID0+IGJpbmRFdmVudHMoaXRlbSkpO1xyXG4gICAgICB9KSgpO1xyXG4iXX0=
